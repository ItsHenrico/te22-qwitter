{% extends "layout.njk" %}
{% block content %}
<link rel="stylesheet" href="../style.css">
<div class="post">
  <h1>{{header}}</h1>
  <form action="/{{link}}" method="POST">
    <label for="post"></label>
    <textarea type="text" name="post" id="post" maxlength="130" cols="50" wrap="soft">{{tweet.message}}</textarea>
    <input type="hidden" name="id" id="id" value="{{tweet.id}}">
    <button type="submit">{{action}}</button>
  </form>
</div>

<script>
  const textarea = document.getElementById("post");
  
  textarea.addEventListener("input", () => {
    console.log(textarea.style.height)
    textarea.style.height = "auto"
    textarea.style.height = (textarea.scrollHeight) + "px";
  });
</script>
{% endblock %}